## Remove currency dropdown and ISO currency usage; use free-form symbol only

Brief: Replace the currency selection (ISO 4217 codes) with a single free-form symbol input. Eliminate all code paths, props, storage keys, and database columns related to `currency` codes. Keep only an optional user-defined `currency_symbol` stored in profile. All amount formatting should prefix the number with the symbol (if provided) and otherwise show a plain localized decimal.

### Scope
- Remove: currency dropdown in settings, `currency` profile field usage, `getDefaultCurrency`, any `currency` props in components, ISO-based formatting.
- Keep: one optional symbol input in settings; store in `profiles.currency_symbol`; use it when rendering amounts.

### Affected files and updates

1) Frontend settings UI
- File: `src/components/SettingsPage.vue`
  - Remove `currencyOptions`, `currency` state, and the `<v-select>` dropdown.
  - Keep a single `<v-text-field>` for the symbol (1–4 chars validation remains); remove quick-pick buttons for simplicity per "simple input field" requirement.
  - Update `loadProfile()` to stop reading `data.currency`; only read `data.currency_symbol`.
  - Replace `saveCurrency()` with `saveSymbol()` that only persists `currency_symbol` and removes any `localStorage` use of `currency` (delete `currency` key on save).

2) Application state and prop plumbing
- File: `src/App.vue`
  - Remove `getDefaultCurrency` import and `currency` reactive state.
  - Stop reading `profile.currency`; only read `profile.currency_symbol`.
  - Stop persisting or reading `localStorage.currency`.
  - Update child props: remove `:currency` from `DayView`/`MonthView` usages; pass only `:currencySymbol`.

3) Amount display components
- File: `src/components/DayView.vue`
  - Remove `currency` prop; keep only `currencySymbol`.
  - Replace all `formatCurrency(amount, currency)` or `{ code: props.currency, symbolOverride: ... }` logic with a single formatter that accepts only the symbol.
- File: `src/components/MonthView.vue`
  - Same as `DayView.vue`: drop `currency` prop; rely only on `currencySymbol`.

4) Currency utilities
- File: `src/lib/currency.js`
  - Remove `formatCurrency` and `getDefaultCurrency` (no ISO code usage).
  - Replace with a single utility, e.g., `formatAmount(amount, { symbolOverride? })`, that:
    - Formats the numeric portion using `Intl.NumberFormat` in decimal mode (no currency style) with 2 fraction digits.
    - If a symbol is provided (1–4 chars), prefix it without extra spacing (e.g., `D10.00`).
  - Update exports accordingly and migrate all call sites.

5) Supabase data access
- File: `src/lib/supabase.js`
  - `getProfile`/`updateProfile`: remove `currency` from selected columns and from JSDoc; retain `currency_symbol`.
  - Ensure `updateProfile` can update `currency_symbol` only; do not accept or propagate a `currency` field.

6) Database schema
- Add a new migration file in `supabase/migrations/` to:
  - Drop the `currency` column from `public.profiles` (currently `text not null default 'USD'`). Remove constraints and default.
  - Keep `currency_symbol` as an optional text field (1–4 chars); no changes needed if existing migration already added it.
  - Review any RLS policies or triggers referencing `currency` (none currently in repo) and remove references if found.

7) Local storage cleanup
- Remove writes/reads of `localStorage['currency']` throughout the app. Optionally, delete the key on next save in settings to avoid stale data.

### Step-by-step implementation
1. Delete `currency` usage in UI
   - In `SettingsPage.vue`, remove dropdown and related state/validation; keep one symbol input; rename save handler to persist only `currency_symbol`.
2. Remove `currency` from app state
   - In `App.vue`, delete `currency` reactive state and `getDefaultCurrency`; only track `currencySymbol`. Update child props.
3. Update components to symbol-only formatting
   - In `DayView.vue` and `MonthView.vue`, drop `currency` props/usages; call the new symbol-only formatter.
4. Simplify currency utils
   - In `lib/currency.js`, remove ISO-code based functions; keep a single decimal formatter with optional symbol prefix. Update exports and imports.
5. Adjust Supabase layer
   - In `lib/supabase.js`, stop selecting/updating `currency`; ensure profile types/comments reference only `display_name` and `currency_symbol`.
6. Database migration
   - Create a migration to drop `profiles.currency`; verify existing data integrity; no data backfill needed since symbol lives in `currency_symbol`.
7. Remove localStorage currency key
   - Purge any remaining references; in settings save flow, remove the stale `currency` key if present.

### Risks and considerations
- Existing users with `profiles.currency` set will lose the concept of currency codes; displayed amounts will no longer localize currency signs or placement, only numeric formatting plus prefix symbol.
- Ensure all callers are migrated; missing prop removals will cause runtime warnings/errors in Vue.
- Verify that no backend policies or external tooling assume `profiles.currency` exists.

### Acceptance criteria
- Settings shows a single symbol input; no currency dropdown.
- Database has no `profiles.currency` column.
- No imports/usages of `getDefaultCurrency` or `formatCurrency` remain.
- All amount displays use the symbol-only formatter and render correctly.

